(this["webpackJsonpsudoku-app"]=this["webpackJsonpsudoku-app"]||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),l=n(10),c=n.n(l);n(15),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=n(7),i=n(1),o=n(5),u=n(6),v=n(0);function h(e){return Object(v.jsxs)("table",{children:[Object(v.jsx)("colgroup",{span:"1"}),Object(v.jsx)("colgroup",{className:"region",span:"3"}),Object(v.jsx)("colgroup",{className:"region",span:"3"}),Object(v.jsx)("colgroup",{className:"region",span:"3"}),Object(v.jsx)(b,{}),Object(v.jsxs)("tbody",{className:"region",children:[Object(v.jsx)(O,{row:0,cells:e.cells}),Object(v.jsx)(O,{row:1,cells:e.cells}),Object(v.jsx)(O,{row:2,cells:e.cells})]}),Object(v.jsxs)("tbody",{className:"region",children:[Object(v.jsx)(O,{row:3,cells:e.cells}),Object(v.jsx)(O,{row:4,cells:e.cells}),Object(v.jsx)(O,{row:5,cells:e.cells})]}),Object(v.jsxs)("tbody",{className:"region",children:[Object(v.jsx)(O,{row:6,cells:e.cells}),Object(v.jsx)(O,{row:7,cells:e.cells}),Object(v.jsx)(O,{row:8,cells:e.cells})]})]})}var f=[0,1,2,3,4,5,6,7,8],d=["row","column","region"],j=[0,1,2];function b(){return Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{}),f.map((function(e){return Object(v.jsx)("th",{scope:"col",children:e},e)}))]})})}function O(e){var t="ABCDEFGHI".charAt(e.row),n=9*e.row;return Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"row",children:t}),f.map((function(t){var r=n+t;return e.cells[r]}))]})}var y=[1,2,3,4,5,6,7,8,9],w=function(){function e(t,n,r,a,l){if(Object(o.a)(this,e),this.index=t,this.value=n,r){if(this.readOnly=!0,a||l)throw new Error("readOnly cell should not have errors or availableValues ".concat(a," or ").concat(l))}else this.errors=void 0!==a?a:{row:0,column:0,region:0,total:0},isNaN(this.value)?this.availableValues=l||new Set(y):this.availableValues=new Set;Object.freeze(this)}return Object(u.a)(e,[{key:"row",get:function(){return Math.trunc(this.index/9)}},{key:"column",get:function(){return this.index%9}},{key:"regionRow",get:function(){return Math.trunc(this.row/3)}},{key:"regionColumn",get:function(){return Math.trunc(this.column/3)}},{key:"region",get:function(){return 3*this.regionRow+this.regionColumn}},{key:"setError",value:function(e){if(this.errors[e])throw new Error("Error has already been set for segment type ".concat(e));this.errors[e]=1,this.errors.total+=1}},{key:"clearError",value:function(e){if(!this.errors[e])throw new Error("Error is not set for segment type ".concat(e));this.errors[e]=0,this.errors.total-=1}},{key:"setAvailableValue",value:function(e){this.availableValues.clear(),this.availableValues.add(e)}},{key:"addAvailableValue",value:function(e){this.availableValues.add(e)}},{key:"removeAvailableValues",value:function(e){var t,n=Object(i.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.availableValues.delete(r)}}catch(a){n.e(a)}finally{n.f()}}}]),e}(),x=n(9);function m(e,t,n){this.index=e,this.value=t,this.readOnly=n||!1}function g(e,t){if(t.constructor!==m)throw new Error("Invalid action ".concat(t));return t.value<1||t.value>9?e:isNaN(t.value)?function(e,t){var n,r=Object(x.a)(e.cells),a=new k(r),l=r[t.index],c=r[t.index]=N(l,t),s=Object(i.a)(d);try{for(s.s();!(n=s.n()).done;){var o=n.value,u=c[o],v=a.segment(o,u),h=v.values;c.removeAvailableValues(h);var f,j=Object(i.a)(v.cells);try{e:for(j.s();!(f=j.n()).done;){var b=f.value;if(!b.readOnly){var O,y=Object(i.a)(d);try{for(y.s();!(O=y.n()).done;){var w=O.value;if(!a.segment(w,b[w]).isValueAvailable(l.value))continue e}}catch(E){y.e(E)}finally{y.f()}b.addAvailableValue(l.value)}}}catch(E){j.e(E)}finally{j.f()}p(v);var m=v.cells.filter((function(e){return e.value===l.value}));if(1===m.length){var g,V=Object(i.a)(m);try{for(V.s();!(g=V.n()).done;){var A=g.value;!A.readOnly&&A.errors[o]&&A.clearError(o)}}catch(E){V.e(E)}finally{V.f()}}}}catch(E){s.e(E)}finally{s.f()}return new k(r)}(e,t):function(e,t){var n,r=Object(x.a)(e.cells),a=new k(r),l=r[t.index],c=r[t.index]=N(l,t),s=Object(i.a)(d);try{for(s.s();!(n=s.n()).done;){var o,u=n.value,v=c[u],h=a.segment(u,v),f=Object(i.a)(h.cells);try{for(f.s();!(o=f.n()).done;){var j=o.value;isNaN(j.value)&&j.availableValues.has(t.value)&&j.removeAvailableValues([t.value])}}catch(m){f.e(m)}finally{f.f()}p(h);var b=h.cells.filter((function(e){return e.value===t.value}));if(b.length>1){var O,y=Object(i.a)(b);try{for(y.s();!(O=y.n()).done;){var w=O.value;w.readOnly||w.errors[u]||w.setError(u)}}catch(m){y.e(m)}finally{y.f()}}}}catch(m){s.e(m)}finally{s.f()}return a}(e,t)}function p(e){var t,n=Object(i.a)(e.cellsByAvailableValue);try{for(n.s();!(t=n.n()).done;){var r=Object(s.a)(t.value,2),a=r[0],l=r[1];1===l.length&&l[0].setAvailableValue(a)}}catch(c){n.e(c)}finally{n.f()}}function N(e,t){if(e.readOnly)throw new Error("Attempted to modify readOnly cell ".concat(e.index));if(t.constructor===m){var n=t.readOnly,r=n||isNaN(t.value)?void 0:e.errors;return new w(t.index,t.value,n,r)}throw new Error("Unknown action type ".concat(t.type))}var k=function(){function e(t){if(Object(o.a)(this,e),this.cells=t||this._emptyGrid(),this.cells.length!==Math.pow(9,2))throw new Error("Grid must contain 81 cells: got ".concat(t.length));Object.freeze(this)}return Object(u.a)(e,[{key:"_emptyGrid",value:function(){var e=0;return f.flatMap((function(){return f.map((function(){return new w(e++,NaN)}))}))}},{key:"_parseGrid",value:function(e){return e.split("").map((function(e,t){return e=!e||e<1?NaN:parseInt(e),new w(t,e,!isNaN(e))}))}},{key:"row",value:function(e){var t=this,n=9*e,r=f.map((function(e){return t.cells[n+e]}));return new V("row",e,r)}},{key:"column",value:function(e){var t=this,n=f.map((function(n){return t.cells[9*n+e]}));return new V("column",e,n)}},{key:"region",value:function(e){var t=this,n=Math.trunc(e/3),r=e%3,a=j.flatMap((function(e){var a=3*n+e;return j.map((function(e){var n=9*a+(3*r+e);return t.cells[n]}))}));return new V("region",e,a)}},{key:"segment",value:function(e,t){switch(e){case"row":return this.row(t);case"column":return this.column(t);case"region":return this.region(t);default:throw new Error("Unknown segment type '".concat(e,"'"))}}}],[{key:"newFrom",value:function(t){var n,r=new e,a=r._parseGrid(t),l=Object(i.a)(a);try{for(l.s();!(n=l.n()).done;){var c=n.value;isNaN(c.value)||(r=g(r,new m(c.index,c.value,!0)))}}catch(s){l.e(s)}finally{l.f()}return r}}]),e}(),V=function(){function e(t,n,r){Object(o.a)(this,e),this.type=t,this.index=n,this.cells=r}return Object(u.a)(e,[{key:"values",get:function(){return this.cells.map((function(e){return e.value})).filter((function(e){return!isNaN(e)}))}},{key:"cellsByAvailableValue",get:function(){return this._cellsByAvailableValue=this._cellsByAvailableValue||this.cells.reduce((function(e,t){if(isNaN(t.value)){var n,r=Object(i.a)(t.availableValues);try{for(r.s();!(n=r.n()).done;){var a=n.value;e.has(a)||e.set(a,[]),e.get(a).push(t)}}catch(l){r.e(l)}finally{r.f()}}return e}),new Map)}},{key:"isValueAvailable",value:function(e){return this.cellsByAvailableValue.has(e)}}]),e}(),A=a.a.createContext((function(e){return null})),E=a.a.createContext(new k);function C(){var e,t=[],n=Object(i.a)(f);try{for(n.s();!(e=n.n()).done;){var r,a=e.value,l=Object(i.a)(f);try{for(l.s();!(r=l.n()).done;){var c=9*a+r.value,s=Object(v.jsx)(M,{index:c},c);t.push(s)}}catch(o){l.e(o)}finally{l.f()}}}catch(o){n.e(o)}finally{n.f()}return Object(v.jsx)(h,{cells:t})}function M(e){var t=Object(r.useContext)(E).cells[e.index];return isNaN(t.value)?Object(v.jsx)("td",{className:"".concat(1===t.availableValues.size?"hint":"unsolved"),children:Array.from(t.availableValues).sort().join(" ")}):t.readOnly?Object(v.jsx)("td",{className:"readonly",children:t.value}):Object(v.jsx)("td",{children:t.value})}function B(){var e,t=[],n=Object(i.a)(f);try{for(n.s();!(e=n.n()).done;){var r,a=e.value,l=Object(i.a)(f);try{for(l.s();!(r=l.n()).done;){var c=9*a+r.value,s=Object(v.jsx)(G,{index:c},c);t.push(s)}}catch(o){l.e(o)}finally{l.f()}}}catch(o){n.e(o)}finally{n.f()}return Object(v.jsx)(h,{cells:t})}function G(e){var t=Object(r.useContext)(A),n=Object(r.useContext)(E).cells[e.index];return n.readOnly?Object(v.jsx)("td",{className:"readonly",children:n.value}):Object(v.jsx)("td",{children:Object(v.jsx)("input",{type:"number",min:"1",max:"9",maxLength:"1",value:n.value?n.value:"",onChange:function(e){return t(new m(n.index,e.target.valueAsNumber))},className:"".concat(1===n.availableValues.size?"hint":""," ").concat(n.errors.total>0?"error":"")})})}n(17);function _(e){var t=Object(r.useReducer)(g,e.gridString,(function(e){return k.newFrom(e)})),n=Object(s.a)(t,2),a=n[0],l=n[1];return Object(v.jsx)(E.Provider,{value:a,children:Object(v.jsxs)(A.Provider,{value:l,children:[Object(v.jsx)("div",{className:"sudoku",children:Object(v.jsx)(B,{})}),Object(v.jsx)("div",{className:"sudoku debug",children:Object(v.jsx)(C,{})})]})})}c.a.render(Object(v.jsxs)(a.a.StrictMode,{children:[Object(v.jsx)("p",{children:Object(v.jsx)("a",{href:"https://github.com/stevenl/sudoku/",target:"_blank",children:"Source on GitHub"})}),Object(v.jsx)(_,{gridString:"000000080005073090000900300000200709900136004403009000001005000060840900070000000"})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.c6b4cc19.chunk.js.map