(this["webpackJsonpsudoku-app"]=this["webpackJsonpsudoku-app"]||[]).push([[0],{15:function(e,t,r){},17:function(e,t,r){},18:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r.n(n),l=r(10),c=r.n(l);r(15),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=r(7),o=r(1),i=r(5),u=r(6),v=r(0);function f(e){return Object(v.jsxs)("table",{children:[Object(v.jsx)("colgroup",{span:"1"}),Object(v.jsx)("colgroup",{className:"region",span:"3"}),Object(v.jsx)("colgroup",{className:"region",span:"3"}),Object(v.jsx)("colgroup",{className:"region",span:"3"}),Object(v.jsx)(b,{}),Object(v.jsxs)("tbody",{className:"region",children:[Object(v.jsx)(O,{row:0,cells:e.cells}),Object(v.jsx)(O,{row:1,cells:e.cells}),Object(v.jsx)(O,{row:2,cells:e.cells})]}),Object(v.jsxs)("tbody",{className:"region",children:[Object(v.jsx)(O,{row:3,cells:e.cells}),Object(v.jsx)(O,{row:4,cells:e.cells}),Object(v.jsx)(O,{row:5,cells:e.cells})]}),Object(v.jsxs)("tbody",{className:"region",children:[Object(v.jsx)(O,{row:6,cells:e.cells}),Object(v.jsx)(O,{row:7,cells:e.cells}),Object(v.jsx)(O,{row:8,cells:e.cells})]})]})}var h=[0,1,2,3,4,5,6,7,8],d=["row","column","region"],j=[0,1,2];function b(){return Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{}),h.map((function(e){return Object(v.jsx)("th",{scope:"col",children:e},e)}))]})})}function O(e){var t="ABCDEFGHI".charAt(e.row),r=9*e.row;return Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"row",children:t}),h.map((function(t){var n=r+t;return e.cells[n]}))]})}var y=[1,2,3,4,5,6,7,8,9],w=function(){function e(t,r,n,a,l){if(Object(i.a)(this,e),this.index=t,this.value=r,n){if(this.readOnly=!0,a||l)throw new Error("readOnly cell should not have errors or availableValues ".concat(a," or ").concat(l))}else this.errors=void 0!==a?a:{row:0,column:0,region:0,total:0},isNaN(this.value)?this.availableValues=l||new Set(y):this.availableValues=new Set;Object.freeze(this)}return Object(u.a)(e,[{key:"row",get:function(){return Math.trunc(this.index/9)}},{key:"column",get:function(){return this.index%9}},{key:"regionRow",get:function(){return Math.trunc(this.row/3)}},{key:"regionColumn",get:function(){return Math.trunc(this.column/3)}},{key:"region",get:function(){return 3*this.regionRow+this.regionColumn}},{key:"setError",value:function(e){if(this.errors[e])throw new Error("Error has already been set for segment type ".concat(e));this.errors[e]=1,this.errors.total+=1}},{key:"clearError",value:function(e){if(!this.errors[e])throw new Error("Error is not set for segment type ".concat(e));this.errors[e]=0,this.errors.total-=1}},{key:"setAvailableValue",value:function(e){this.availableValues.clear(),this.availableValues.add(e)}},{key:"addAvailableValue",value:function(e){this.availableValues.add(e)}},{key:"removeAvailableValues",value:function(e){var t,r=Object(o.a)(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;this.availableValues.delete(n)}}catch(a){r.e(a)}finally{r.f()}}}]),e}(),x=r(9);function m(e,t,r){this.index=e,this.value=t,this.readOnly=r||!1}function g(e,t){if(t.constructor!==m)throw new Error("Invalid action ".concat(t));return t.value<1||t.value>9?e:isNaN(t.value)?function(e,t){var r,n=Object(x.a)(e.cells),a=new k(n),l=n[t.index],c=n[t.index]=N(l,t),s=Object(o.a)(d);try{for(s.s();!(r=s.n()).done;){var i=r.value,u=c[i],v=a.segment(i,u),f=v.values;c.removeAvailableValues(f);var h,j=Object(o.a)(v.cells);try{e:for(j.s();!(h=j.n()).done;){var b=h.value;if(!b.readOnly){var O,y=Object(o.a)(d);try{for(y.s();!(O=y.n()).done;){var w=O.value;if(!a.segment(w,b[w]).isValueAvailable(l.value))continue e}}catch(E){y.e(E)}finally{y.f()}b.addAvailableValue(l.value)}}}catch(E){j.e(E)}finally{j.f()}p(v);var m=v.cells.filter((function(e){return e.value===l.value}));if(1===m.length){var g,V=Object(o.a)(m);try{for(V.s();!(g=V.n()).done;){var A=g.value;!A.readOnly&&A.errors[i]&&A.clearError(i)}}catch(E){V.e(E)}finally{V.f()}}}}catch(E){s.e(E)}finally{s.f()}return new k(n)}(e,t):function(e,t){var r,n=Object(x.a)(e.cells),a=new k(n),l=n[t.index],c=n[t.index]=N(l,t),s=Object(o.a)(d);try{for(s.s();!(r=s.n()).done;){var i,u=r.value,v=c[u],f=a.segment(u,v),h=Object(o.a)(f.cells);try{for(h.s();!(i=h.n()).done;){var j=i.value;isNaN(j.value)&&j.availableValues.has(t.value)&&j.removeAvailableValues([t.value])}}catch(m){h.e(m)}finally{h.f()}p(f);var b=f.cells.filter((function(e){return e.value===t.value}));if(b.length>1){var O,y=Object(o.a)(b);try{for(y.s();!(O=y.n()).done;){var w=O.value;w.readOnly||w.errors[u]||w.setError(u)}}catch(m){y.e(m)}finally{y.f()}}}}catch(m){s.e(m)}finally{s.f()}return a}(e,t)}function p(e){var t,r=Object(o.a)(e.cellsByAvailableValue);try{for(r.s();!(t=r.n()).done;){var n=Object(s.a)(t.value,2),a=n[0],l=n[1];1===l.length&&l[0].setAvailableValue(a)}}catch(c){r.e(c)}finally{r.f()}}function N(e,t){if(e.readOnly)throw new Error("Attempted to modify readOnly cell ".concat(e.index));if(t.constructor===m){var r=t.readOnly,n=r||isNaN(t.value)?void 0:e.errors;return new w(t.index,t.value,r,n)}throw new Error("Unknown action type ".concat(t.type))}var k=function(){function e(t){if(Object(i.a)(this,e),this.cells=t||this._emptyGrid(),this.cells.length!==Math.pow(9,2))throw new Error("Grid must contain 81 cells: got ".concat(t.length));Object.freeze(this)}return Object(u.a)(e,[{key:"_emptyGrid",value:function(){var e=0;return h.flatMap((function(){return h.map((function(){return new w(e++,NaN)}))}))}},{key:"_parseGrid",value:function(e){return e.split("").map((function(e,t){return e=!e||e<1?NaN:parseInt(e),new w(t,e,!isNaN(e))}))}},{key:"row",value:function(e){var t=this,r=9*e,n=h.map((function(e){return t.cells[r+e]}));return new V("row",e,n)}},{key:"column",value:function(e){var t=this,r=h.map((function(r){return t.cells[9*r+e]}));return new V("column",e,r)}},{key:"region",value:function(e){var t=this,r=Math.trunc(e/3),n=e%3,a=j.flatMap((function(e){var a=3*r+e;return j.map((function(e){var r=9*a+(3*n+e);return t.cells[r]}))}));return new V("region",e,a)}},{key:"segment",value:function(e,t){switch(e){case"row":return this.row(t);case"column":return this.column(t);case"region":return this.region(t);default:throw new Error("Unknown segment type '".concat(e,"'"))}}}],[{key:"newFrom",value:function(t){var r,n=new e,a=n._parseGrid(t),l=Object(o.a)(a);try{for(l.s();!(r=l.n()).done;){var c=r.value;isNaN(c.value)||(n=g(n,new m(c.index,c.value,!0)))}}catch(s){l.e(s)}finally{l.f()}return n}}]),e}(),V=function(){function e(t,r,n){Object(i.a)(this,e),this.type=t,this.index=r,this.cells=n}return Object(u.a)(e,[{key:"values",get:function(){return this.cells.map((function(e){return e.value})).filter((function(e){return!isNaN(e)}))}},{key:"cellsByAvailableValue",get:function(){return this._cellsByAvailableValue=this._cellsByAvailableValue||this.cells.reduce((function(e,t){if(isNaN(t.value)){var r,n=Object(o.a)(t.availableValues);try{for(n.s();!(r=n.n()).done;){var a=r.value;e.has(a)||e.set(a,[]),e.get(a).push(t)}}catch(l){n.e(l)}finally{n.f()}}return e}),new Map)}},{key:"isValueAvailable",value:function(e){return this.cellsByAvailableValue.has(e)}}]),e}(),A=a.a.createContext((function(e){return null})),E=a.a.createContext(new k);function C(){var e,t=[],r=Object(o.a)(h);try{for(r.s();!(e=r.n()).done;){var n,a=e.value,l=Object(o.a)(h);try{for(l.s();!(n=l.n()).done;){var c=9*a+n.value,s=Object(v.jsx)(M,{index:c},c);t.push(s)}}catch(i){l.e(i)}finally{l.f()}}}catch(i){r.e(i)}finally{r.f()}return Object(v.jsx)(f,{cells:t})}function M(e){var t=Object(n.useContext)(E).cells[e.index];return isNaN(t.value)?Object(v.jsx)("td",{className:"".concat(1===t.availableValues.size?"hint":"unsolved"),children:Array.from(t.availableValues).sort().join(" ")}):t.readOnly?Object(v.jsx)("td",{className:"readonly",children:t.value}):Object(v.jsx)("td",{children:t.value})}function B(){var e,t=[],r=Object(o.a)(h);try{for(r.s();!(e=r.n()).done;){var n,a=e.value,l=Object(o.a)(h);try{for(l.s();!(n=l.n()).done;){var c=9*a+n.value,s=Object(v.jsx)(G,{index:c},c);t.push(s)}}catch(i){l.e(i)}finally{l.f()}}}catch(i){r.e(i)}finally{r.f()}return Object(v.jsx)(f,{cells:t})}function G(e){var t=Object(n.useContext)(A),r=Object(n.useContext)(E).cells[e.index];return r.readOnly?Object(v.jsx)("td",{className:"readonly",children:r.value}):Object(v.jsx)("td",{children:Object(v.jsx)("input",{type:"number",min:"1",max:"9",maxLength:"1",value:r.value?r.value:"",onChange:function(e){return t(new m(r.index,e.target.valueAsNumber))},className:"".concat(1===r.availableValues.size?"hint":""," ").concat(r.errors.total>0?"error":"")})})}r(17);function _(e){var t=Object(n.useReducer)(g,e.gridString,(function(e){return k.newFrom(e)})),r=Object(s.a)(t,2),a=r[0],l=r[1];return Object(v.jsx)(E.Provider,{value:a,children:Object(v.jsxs)(A.Provider,{value:l,children:[Object(v.jsx)("div",{className:"sudoku",children:Object(v.jsx)(B,{})}),Object(v.jsx)("div",{className:"sudoku debug",children:Object(v.jsx)(C,{})})]})})}c.a.render(Object(v.jsxs)(a.a.StrictMode,{children:[Object(v.jsx)("p",{children:Object(v.jsx)("a",{href:"https://github.com/stevenl/sudoku/",target:"_blank",rel:"noopener noreferrer",children:"Source on GitHub"})}),Object(v.jsx)(_,{gridString:"000000080005073090000900300000200709900136004403009000001005000060840900070000000"})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.0b291bad.chunk.js.map